simci.controller("CatalogoController",["$scope","$http","$log","$route","$routeParams","$location",function(o,r,a,i,e,n){o.modulo={},o.modulo.nombre="Catalogo",o.modulo.icono={tipo:"book",color:"orange"},o.modulo.opciones=[{nombre:"registrar objeto",descripcion:"Esta opcion le permitira a√±adir nuevos objetos al catalogo",url:"#/"},{nombre:"ver catalogo",descripcion:"Esta opcion le permitira ver los objetos del catalogo, a su vez tambien podra modificar o eliminar dichos objetos",url:"#/"}],a.info(e),a.info(n)}]),simci.controller("InventarioController",["$scope","$http","$log","$route","$routeParams","$location",function(o,r,a,i,e,n){o.modulo={},o.modulo.nombre="Inventario",o.modulo.icono={tipo:"archive",color:"green"},o.modulo.opciones=[{nombre:"registrar elemento",descripcion:"Esta opcion le permitira crear nuevos elementos en el inventario",url:"#/"},{nombre:"ver inventario",descripcion:"Esta opcion le permitira ver los elementos en el inventario, a su vez tambien podra modificar o eliminar dichos objetos",url:"#/"},{nombre:"crear almacen",descripcion:"Opcion para crear nuevos almacenes",url:"#/"},{nombre:"crear estante",descripcion:"Opcion para crear nuevos estantes",url:"#/"},{nombre:"crear agrupacion",descripcion:"Esta opcion le permitira crear las agrupaciones por las cuales se ordenaran los elementos",url:"#/"},{nombre:"crear subagrupacion",descripcion:"Opcion para crear alguna caracteristica por la cual tambien ordenar elementos",url:"#/"}],a.info(e),a.info(n)}]),simci.controller("UsuariosController",["$scope","$http","$log","$timeout","$route","$routeParams","$location","$compile","DTOptionsBuilder","DTColumnBuilder",function(o,r,a,i,e,n,s,t,l,u){o.modulo={},o.DatosForm={},o.modulo.nombre="Usuarios",o.modulo.icono={tipo:"users",color:"blue"},o.modulo.opciones=[{nombre:"crear usuarios",descripcion:"Opcion para crear nuevos usuarios en el sistema",url:"#/usuarios/crear"},{nombre:"ver usuarios",descripcion:"Opcion para Ver, Actualizar, Eliminar los usuarios registrados en el sistema",url:"#/usuarios/ver/todos"},{nombre:"crear permisos",descripcion:"Opcion se podran crear nuevos permisos de usuarios para el sistema",url:"#/usuarios/eliminar"},{nombre:"ver permisos",descripcion:"Opcion para Ver, Actualizar, Eliminar los permisos registrados en el sistema",url:"#/usuarios/modificar"},{nombre:"crear tipos de usuario",descripcion:"Opcion para Ver, Actualizar, Eliminar los permisos registrados en el sistema",url:"#/usuarios/modificar"}],a.info(n),a.info(s),"/usuarios/crear"==s.$$url&&(o.mostrar_mensaje=!1,o.registrar_usuario=function(){var a=$("#formulario_crear_usuario"),e=a.form(reglas_formulario_crear_usuario).form("is valid");e&&($("#btn-registrar").addClass("loading").prop("disabled",!0),r({method:"POST",url:"/api/usuarios/crear-usuario-completo",data:o.DatosForm}).then(function(r){r.data.resultado?(o.mostrar_mensaje=!0,o.mensaje_validacion={titulo:"Usuario creado con exito",icono:"checkmark",color:"green",mensajes:["El usuario ha sido almacenado en la base de datos."]},i(function(){$("#btn-registrar").removeClass("loading").prop("disabled",!1),a.form("clear")},0,!1)):(o.mostrar_mensaje=!0,o.mensaje_validacion={titulo:"Hubo un error al guardar el formulario",icono:"remove",color:"red",mensajes:r.data.mensajes}),$("#btn-registrar").removeClass("loading").prop("disabled",!1)},function(o){console.log(o),$("#btn-registrar").removeClass("loading").prop("disabled",!1)}))}),"/usuarios/ver/todos"==s.$$url&&(o.opciones_tabla_usuarios=l.newOptions().withOption("ajax",{url:"/api/usuarios/mostrar?type=paginacion",type:"GET"}).withDataProp("data").withPaginationType("full_numbers").withOption("processing",!0).withOption("serverSide",!0).withOption("createdRow",function(r,i,e){t(angular.element(r).contents())(o),a.info(r),a.info(e)}),o.columnas_tabla_usuarios=[u.newColumn("id").withTitle("ID").notSortable(),u.newColumn("usuario").withTitle("Usuario").notSortable(),u.newColumn("email").withTitle("Email").notSortable(),u.newColumn("attr_permisos").withTitle("Permiso").notSortable(),u.newColumn("cod_tipo_usuario").withTitle("Tipo de Usuario").notSortable(),u.newColumn(null).withTitle("Acciones").renderWith(function(o,r,a){return'<a class="ui icon button blue" data-content="Ver Usuario" ng-click="modal_ver_usuario('+o.id+')"><i class="unhide icon"></i></a>\n                      <a class="ui icon button green"  data-content="Modificar Usuario" ng-click="modal_modificar_usuario('+o.id+')"><i class="edit icon"></i></a>  \n                      <a class="ui icon button red "  data-content="Eliminar Usuario" ng-click="modal_eliminar_usuario('+o.id+')"><i class="remove icon"></i></a>'})],o.modal_ver_usuario=function(i){o.data_usuario={},r({method:"GET",url:"/api/usuarios/mostrar?type=usuario_full&id="+i,data:o.DatosForm}).then(function(r){a.info(r),o.data_usuario=r.data,angular.element("#modal_ver_usuario").modal("show")},function(o){a.info(o)})},o.modal_modificar_usuario=function(i){r({method:"GET",url:"/api/usuarios/mostrar?type=usuario_full&id="+i,data:o.DatosForm}).then(function(r){a.info(r),o.data_usuario=r.data,angular.element("#modal_modificar_usuario").modal("show")},function(o){a.info(o)})},o.modal_eliminar_usuario=function(o){angular.element("#modal_eliminar_usuario").modal("show")})}]);